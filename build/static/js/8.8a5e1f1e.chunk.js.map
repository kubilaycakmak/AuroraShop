{"version":3,"sources":["components/Payment.js"],"names":["Paypal","paypal","useRef","history","useHistory","useContext","StoreContext","total","cartctx","order","checkoutsort","TotalCartPrice","filteredcheck","setCarts","setOrders","useEffect","a","loadScript","currency","Buttons","createOrder","data","actions","err","create","intent","purchase_units","description","title","amount","currency_code","value","onApprove","capture","push","onError","console","log","alert","render","current","InitializePaypal","ref"],"mappings":"6OAMe,SAASA,IACtB,IAAMC,EAASC,mBACTC,EAAUC,cAEhB,EAAgDC,qBAAWC,KAAnDC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAASC,EAAxB,EAAwBA,MAAOC,EAA/B,EAA+BA,aACvBC,EAAmBJ,EAAnBI,eACFC,EAAkBF,EAAlBE,cACDC,EAAL,YAAiBL,EAAjB,MACKM,EAAL,YAAkBL,EAAlB,MAuCA,OAtCAM,qBAAU,YAGe,uCAAK,sBAAAC,EAAA,sEAEAC,YAAW,CAAE,YAAa,mFAAqFC,SAAU,QAFzH,cAIhBC,QAAQ,CAChBC,YAAa,SAACC,EAAMC,EAASC,GAC3B,OAAOD,EAAQb,MAAMe,OAAO,CAC1BC,OAAQ,UACRC,eAAgB,CACd,CACEC,YAAaf,EAAcgB,MAC3BC,OAAQ,CACNC,cAAe,MACfC,MAAOpB,QAMjBqB,UAAU,WAAD,4BAAE,WAAOX,EAAMC,GAAb,SAAAN,EAAA,sEACWM,EAAQb,MAAMwB,UADzB,cAET9B,EAAQ+B,KAAK,UACbrB,EAAS,IACTC,EAAU,IAJD,2CAAF,qDAAC,GAMVqB,QAAS,SAACZ,GACRa,QAAQC,IAAId,GACZe,MAAM,kDAGTC,OAAOtC,EAAOuC,SA9BW,2CAAL,qDAgCvBC,KACC,IAGD,8BACE,qBAAKC,IAAKzC","file":"static/js/8.8a5e1f1e.chunk.js","sourcesContent":["import { useRef, useEffect, useContext } from \"react\";\r\nimport { StoreContext } from \"../Context/StoreContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loadScript } from \"@paypal/paypal-js\";\r\n\r\n\r\nexport default function Paypal() {\r\n  const paypal = useRef();\r\n  const history = useHistory();\r\n\r\n  const { total, cartctx, order, checkoutsort } = useContext(StoreContext);\r\n  const { TotalCartPrice } = total;\r\n  let { filteredcheck } = checkoutsort;\r\n  let [setCarts] = cartctx;\r\n  let [setOrders] = order;\r\n  useEffect(() => {\r\n     /* eslint-enable */ \r\n\r\n     const InitializePaypal   = async() => {\r\n\r\n      const paymentInit = await loadScript({ \"client-id\": \"AcVPwH6c4zhgvpb2Oel9HE5dPeSsq4i2Po_PhZ_CZEk49Z5cuJmasT-8n7g8v6kgHXPNpnvUQqivZQ0D\" , currency: \"EUR\" });\r\n\r\n    paymentInit.Buttons({\r\n        createOrder: (data, actions, err) => {\r\n          return actions.order.create({\r\n            intent: \"CAPTURE\",\r\n            purchase_units: [\r\n              {\r\n                description: filteredcheck.title,\r\n                amount: {\r\n                  currency_code: \"EUR\",\r\n                  value: TotalCartPrice\r\n                }\r\n              }\r\n            ]\r\n          });\r\n        },\r\n        onApprove: async (data, actions) => {\r\n          const order = await actions.order.capture();\r\n          history.push(\"/final\");\r\n          setCarts([]);\r\n          setOrders([]);\r\n        },\r\n        onError: (err) => {\r\n          console.log(err);\r\n          alert(\"We encountered an error on the payment part\");\r\n        }\r\n      })\r\n      .render(paypal.current);\r\n    }\r\n    InitializePaypal();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div ref={paypal}></div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}