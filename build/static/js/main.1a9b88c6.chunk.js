(this["webpackJsonpecommerce-app"]=this["webpackJsonpecommerce-app"]||[]).push([[4],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(23),r=n(8),c=n(1),i=[{id:0,title:"Dairy Chocolate",image:n.p+"static/media/chocolate.4e677d2e.webp",price:5,count:1,addQty:function(){return++this.count}},{id:1,title:"Headphones",image:n.p+"static/media/headphones.54fc6de1.webp",price:25,count:1,addQty:function(){return++this.count}},{id:2,title:"Macbook M1",image:n.p+"static/media/macbook.2339d559.webp",price:680,count:1,addQty:function(){++this.count}},{id:4,title:"Take-away Pizza",image:n.p+"static/media/pizza.6bb8a487.webp",price:10,count:1,addQty:function(){return++this.count}}],a=n(2),s=Object(c.createContext)();t.b=function(e){var t=Object(c.useState)(i),n=Object(r.a)(t,2),l=n[0],d=n[1],u=Object(c.useState)([]),f=Object(r.a)(u,2),b=f[0],j=f[1],p=Object(c.useState)([]),h=Object(r.a)(p,2),O=h[0],g=h[1],m=Object(c.useState)(1),x=Object(r.a)(m,2),v=x[0],w=x[1],_=b.filter((function(e,t){return b.map((function(e){return e.id})).indexOf(e.id)==t})),k=O.filter((function(e){return void 0!==e.id})),S=Object(o.a)(_).reduce((function(e,t){return e+t.price*t.count}),0);Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("CartDB"));e&&j(e)}),[]),Object(c.useEffect)((function(){localStorage.setItem("CartDB",JSON.stringify(_))}),[b]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("order"));e?g(e):console.log("No products in DB")}),[]),Object(c.useEffect)((function(){localStorage.setItem("order",JSON.stringify(k))}),[O]);var y=Object(c.useMemo)((function(){return{productctx:[l,d],cartctx:[b,j],filtered:{filteredCart:_},total:{TotalCartPrice:S},values:[v,w],checkoutsort:{filteredcheck:k},order:[O,g]}}),[S,k,_,O,l,v]);return Object(a.jsx)(s.Provider,{value:y,children:e.children})}},16:function(e,t,n){e.exports={Header:"Header_Header__X6ISR",logo:"Header_logo__3MJdJ",info:"Header_info__1Sglv"}},22:function(e,t,n){"use strict";var o=n(1),r=n(2),c=Object(o.memo)((function(e){var t=e.children,n=e.bgColor,o=e.textColor,c=e.padding,i=e.onClick,a=e.radius,s=e.fontSize,l=e.margin,d=e.display,u=e.direction,f=e.ariaLabel,b={backgroundColor:n||"#FE3E36",color:o||"#fff",padding:c,borderRadius:a,fontSize:s||"15px",margin:l,display:d||"flex",flexDirection:u,alignItems:"center",justifyContent:"center"};return Object(r.jsx)("button",{style:b,"aria-label":f,onClick:i,children:t})}));t.a=c},27:function(e,t,n){e.exports={loader__container:"Loader_loader__container__1hBGL",loader__title:"Loader_loader__title__2WKfk"}},32:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(14),c=n.n(r),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(32);var s=n(12),l=n(8),d=n(16),u=n.n(d),f=n(3),b=n(13),j=n(25),p=n(22),h=n(2),O=Object(o.memo)((function(){var e=Object(o.useContext)(s.a).cartctx,t=Object(f.f)(),n=Object(l.a)(e,1)[0];return Object(h.jsxs)("header",{className:u.a.Header,children:[Object(h.jsx)("div",{className:u.a.logo,children:Object(h.jsx)(b.b,{to:"/",children:"JoyStore"})}),Object(h.jsx)("div",{className:u.a.info,children:Object(h.jsxs)(p.a,{display:"flex",bgColor:"var(--lightorange)",textColor:"white",margin:"5px",radius:"10px",padding:"15px 30px",fontSize:"15px",direction:"row",onClick:function(e){e.preventDefault(),""==n?alert("Add a Product to the Cart"):t.push("/cart")},ariaLabel:"Cart",children:[Object(h.jsx)("h4",{children:"Shopping Cart"}),Object(h.jsx)(j.c,{})]})})]})})),g=n(27),m=n.n(g),x=function(){return Object(h.jsx)("div",{className:m.a.loader__container,children:Object(h.jsx)("h1",{className:"loader__title",children:"Loading..."})})},v=n(19),w=(n(39),n(40),Object(o.memo)((function(){return Object(h.jsx)(v.b,{position:"top-center",progressClassName:"toastProgress",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,transition:v.a,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}))),_=Object(o.lazy)((function(){return Promise.all([n.e(10),n.e(3)]).then(n.bind(null,60))})),k=Object(o.lazy)((function(){return Promise.all([n.e(9),n.e(0)]).then(n.bind(null,61))})),S=Object(o.lazy)((function(){return n.e(2).then(n.bind(null,58))})),y=Object(o.lazy)((function(){return n.e(1).then(n.bind(null,59))}));function C(){return Object(h.jsxs)(b.a,{children:[Object(h.jsxs)(s.b,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(o.Suspense,{fallback:Object(h.jsx)(x,{}),children:Object(h.jsxs)(f.c,{children:[Object(h.jsx)(f.a,{path:"/",exact:!0,component:_}),Object(h.jsx)(f.a,{path:"/cart",component:k}),Object(h.jsx)(f.a,{path:"/checkout",component:y}),Object(h.jsx)(f.a,{path:"/final",component:S})]})})]}),Object(h.jsx)(w,{})]})}c.a.render(Object(h.jsx)(C,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):a(t,e)}))}}()}},[[41,5,6]]]);
//# sourceMappingURL=main.1a9b88c6.chunk.js.map